{"version":3,"sources":["api.ts","components/TodoList/TodoList.tsx","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["getUser","userId","fetch","then","promise","json","TodoList","state","query","todos","filterTodosBy","getFilteredTodos","filteredTodos","filter","todo","title","toLowerCase","includes","completed","setState","changeUser","this","props","className","type","placeholder","value","onChange","event","target","name","id","map","classNames","htmlFor","readOnly","checked","onClick","React","Component","CurrentUser","user","selectedUserId","prevProps","clearSelectedUser","email","phone","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.712b2ca6.chunk.js","sourcesContent":["const API_URL = 'https://mate.academy/students-api/todos';\nconst API_USER_URL = 'https://mate.academy/students-api/users/';\n\nexport function getTodos(): Promise<Todo[]> {\n  return fetch(API_URL)\n    .then(promise => promise.json());\n}\n\nexport function getUser(userId: number): Promise<User> {\n  return fetch(`${API_USER_URL}${userId}`)\n    .then(promise => promise.json());\n}\n","import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport { getTodos } from '../../api';\n\ntype Props = {\n  changeUser(userId: number): void;\n};\n\ntype State = {\n  query: string;\n  todos: Todo[];\n  filterTodosBy: string;\n};\n\nexport class TodoList extends React.Component<Props, State> {\n  state: State = {\n    query: '',\n    todos: [],\n    filterTodosBy: '',\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then(todos => {\n        this.setState({ todos });\n      });\n  }\n\n  getFilteredTodos = () => {\n    let filteredTodos = this.state.todos\n      .filter(todo => todo.title.toLowerCase().includes(this.state.query.toLowerCase()));\n\n    if (this.state.filterTodosBy === 'completed') {\n      filteredTodos = filteredTodos.filter(todo => todo.completed === true);\n    }\n\n    if (this.state.filterTodosBy === 'not completed') {\n      filteredTodos = filteredTodos.filter(todo => todo.completed === false);\n    }\n\n    return filteredTodos;\n  };\n\n  render() {\n    const { changeUser } = this.props;\n    const { query } = this.state;\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <div className=\"TodoList__list-container\">\n\n          <input\n            className=\"TodoList__input input is-info\"\n            type=\"text\"\n            placeholder=\"Filter todos\"\n            value={query}\n            onChange={(event) => (\n              this.setState({ query: event.target.value })\n            )}\n          />\n\n          <select\n            className=\"TodoList__select select\"\n            name=\"filter\"\n            id=\"filter\"\n            onChange={(event) => (\n              this.setState({ filterTodosBy: event.target.value })\n            )}\n          >\n            <option value=\"all\">\n              Show all todos\n            </option>\n            <option value=\"completed\">\n              Show completed todos\n            </option>\n            <option value=\"not completed\">\n              Show active todos\n            </option>\n          </select>\n\n          <ul className=\"TodoList__list\">\n            {this.getFilteredTodos().map(todo => (\n              <li\n                key={todo.id}\n                className={classNames(\n                  'TodoList__item',\n                  { 'TodoList__item--checked': todo.completed },\n                  { 'TodoList__item--unchecked': !todo.completed },\n                )}\n              >\n                <label\n                  htmlFor=\"user-button\"\n                >\n                  <input\n                    type=\"checkbox\"\n                    readOnly\n                    checked={todo.completed}\n                  />\n                  <p>{todo.title}</p>\n                </label>\n\n                <button\n                  className=\"\n                    TodoList__user-button\n                    TodoList__user-button--selected\n                    button\n                  \"\n                  type=\"button\"\n                  name=\"user-button\"\n                  onClick={() => (\n                    changeUser(todo.userId)\n                  )}\n                >\n                  User&nbsp;#\n                  {todo.userId}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './CurrentUser.scss';\nimport { getUser } from '../../api';\n\ntype Props = {\n  selectedUserId: number;\n  clearSelectedUser: () => void;\n};\n\ntype State = {\n  user: User | null;\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n  };\n\n  componentDidMount() {\n    getUser(this.props.selectedUserId)\n      .then(user => {\n        this.setState({ user });\n      });\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    const { selectedUserId } = this.props;\n\n    if (prevProps.selectedUserId !== selectedUserId) {\n      getUser(selectedUserId)\n        .then(user => {\n          this.setState({ user });\n        });\n    }\n  }\n\n  render() {\n    const { user } = this.state;\n    const { clearSelectedUser } = this.props;\n\n    return (\n      <div className=\"CurrentUser\">\n        <h2 className=\"CurrentUser__title\">\n          <span>\n            Selected user:\n            {` ${user?.id}`}\n          </span>\n        </h2>\n\n        <h3 className=\"CurrentUser__name\">\n          {user?.name}\n        </h3>\n        <p className=\"CurrentUser__email\">\n          {user?.email}\n        </p>\n        <p className=\"CurrentUser__phone\">\n          {user?.phone}\n        </p>\n        <button\n          type=\"button\"\n          className=\"button\"\n          onClick={clearSelectedUser}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\ninterface State {\n  selectedUserId: number;\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n  };\n\n  changeUser = (userId: number) => {\n    this.setState({ selectedUserId: userId });\n  };\n\n  clearSelectedUser = () => {\n    this.setState({ selectedUserId: 0 });\n  };\n\n  render() {\n    const { selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            changeUser={this.changeUser}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                selectedUserId={selectedUserId}\n                clearSelectedUser={this.clearSelectedUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}